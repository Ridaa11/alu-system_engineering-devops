#!/usr/bin/env bash
# Script that installs and configures Nginx to serve a page containing "Holberton School"

# Exit immediately if a command fails
set -e

# Update package list and install nginx
apt-get update -y
apt-get install -y nginx

# Ensure nginx is running (without systemctl)
service nginx start

# Replace default index page content
echo "Holberton School" > /var/www/html/index.html

# Make sure nginx listens on port 80 (it does by default, but we can ensure config)
sed -i 's/listen 80 default_server;/listen 80 default_server;/g' /etc/nginx/sites-available/default

# Restart nginx (using service instead of systemctl)
service nginx restart

